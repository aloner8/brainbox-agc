

<div class="confirm-form">
    <div class="topdialog"><mat-icon class="material-symbols-outlined" (click)="onCloseClick()">close</mat-icon> </div> 
    <table style="width: 100%;">
        <tr *ngIf="data.showIconHerder" >
            <td colspan="2" style="text-align: center;" *ngIf="iconname=='info'" >
                <img  mat-card-image [src]="BaseHref + 'assets/img/infomation-icon.png'"  style="width: 50px;height: auto;" >
            </td>
            <td colspan="2" style="text-align: center;" *ngIf="iconname=='question'" >
                <img  mat-card-image [src]="BaseHref + 'assets/img/question.png'"  style="width: 50px;height: auto;" >
            </td>
        </tr>
        <tr *ngIf="showCaptionHerder && data.Caption!='APPLIED IDEA'">
            <!-- <td><h2 mat-dialog-title > <mat-icon class="material-symbols-outlined">mail</mat-icon> Send Email </h2></td> -->
            <td><p  [style.color]="data.caption_color" style="font-size: larger; text-align: right;"  > {{data.Caption}}</p></td>
            <td><p [style.color]="'white'" style="text-align: left;" >-{{data.SubCaption}} </p></td>
            
        </tr>
        <tr *ngIf="showCaptionHerder==false && data.Caption=='APPLIED IDEA' ">
            
            <td colspan="2" class="SubCaptionLong" ><div [innerHTML]="data.SubCaption"></div> </td>
            
        </tr>
        <tr *ngIf="showCaptionHerder && data.Caption=='APPLIED IDEA'">            
            <td><p  [style.color]="data.caption_color" style="font-size: larger; text-align: right;"  > {{data.Caption}}</p></td>
            <td><p [style.color]="'white'" style="text-align: left;" >- Tell us a comment </p></td>
            
        </tr>
    </table>
    
    
    <mat-dialog-content  >


        
        <div *ngIf="data.Caption=='APPLIED IDEA' && !showCaptionHerder" align="center" class="APPLIEDConfirm" >

            <table style="width: 100%;text-align: left; color: white; font-size: medium;">
                <tr *ngFor="let doc of data.selectDoc">
                    <td>{{doc['label']}}</td>
                    <td style="width:60%;">: {{doc['value']}}</td>
                </tr>
                
            </table>
            <br>
            <button style="width: 90%;background-color: darkcyan; color: white; font-size: medium; " (click)="APPLIEDConfirm('yes')" >
                <p>Yes, all related documents have 
                    <br>
                    been completed.
                </p>
            </button>
            <br>
          <!--   <button style="width: 90%;background-color:darkred   ; color: white;font-size: medium;" (click)="APPLIEDConfirm('yes')">
                <p>The related documents have 
                    <br>
                    not been completed.
                </p>
            </button> -->
        </div>

        <mat-form-field  appearance="fill" *ngIf="data.showList" >
            <mat-select [style.border-color]="'white'"  [(ngModel)]="listseleted" name="listseleted" (selectionChange)="listseletedChange($event)" >             
              @for (list of data.ListSource; track list ) {
                <mat-option [value]="list.value">{{list.display}}</mat-option>
              }
            </mat-select>      
            <mat-label>{{data.ListLabel}}</mat-label>
          </mat-form-field>

        <mat-form-field appearance="fill"  style="width: 100%;" *ngIf="showRemark">
            <mat-label>Remark</mat-label>
            <textarea matInput  *ngIf="showErrorLabel" style="width: 100%;font-weight: bold;" [formControl]="ContextControl"  [(ngModel)]="comment" required ></textarea>
            <textarea matInput  *ngIf="!showErrorLabel" style="width: 100%;font-weight: bold;" [formControl]="ContextControl"  [(ngModel)]="comment"  ></textarea>
 
         </mat-form-field>

         <p [style.color]="'white'"   *ngIf="showQuetion" > Are related document be revised or</p>
         <p [style.color]="'white'"   *ngIf="showQuetion" > established for support the idea?</p>
         <p [style.color]="'white'" *ngIf="showQuetion"> (MOC,WI etc.)</p>

         <!--  -->
            <div *ngIf="showSelectDoc" style="width: 450px; ">
                <p [style.color]="'white'" style="text-align: left;"> Are there any documents to update / create?</p>
                 <!-- <p [style.color]="'white'" style="text-align: left;">    If the document are reviewed, please click "Reviewed".</p> -->
                <section class="doc-section" >
                    <mat-checkbox class="doc-margin" [(ngModel)]="data.selectDoc.MOC" [checked]="data.selectDoc.MOC" >MOC</mat-checkbox>
                    <mat-checkbox class="doc-margin" [(ngModel)]="data.selectDoc.WI" [checked]="data.selectDoc.WI"  >Work Instruction</mat-checkbox>
                    <mat-checkbox class="doc-margin" [(ngModel)]="data.selectDoc.OTHER" [checked]="data.selectDoc.OTHER"  >
                        Other  <input #otherdoc  type="text"  style="width: 70%;font-weight: bold;" *ngIf="data.selectDoc.OTHER"  [(ngModel)]="data.selectDoc.DOC" />
                    </mat-checkbox>
                    
                </section>

               
            </div>

          <!-- </section> -->

         <label *ngIf="showErrorLabel" style="color: red; background-color:white ; " >{{ErrorLabel}}</label>
    </mat-dialog-content>

    <mat-dialog-actions style="text-align: center; width: 100%;"  align="center">
        <button *ngIf="data.showback" mat-raised-button color="primary" (click)="onBackClick()" > &#60; Back </button>
        <button *ngIf="data.showconfirm" mat-raised-button color="primary" (click)="onConfirm()" >Confirm</button>
        <button *ngIf="data.showok" mat-raised-button color="primary" (click)="onOkClick()" >{{showSelectDoc?'Reviewed':'Ok'}}</button>
        <button *ngIf="data.showcancel" mat-raised-button color="warn" (click)="onCloseClick()">Cancel</button>
        <button *ngIf="showYes" mat-raised-button color="primary" (click)="onYesClick()" >Yes</button>
        <button *ngIf="showNo" mat-raised-button color="warn" (click)="onNoClick()">No</button>
       

    </mat-dialog-actions>

</div>





